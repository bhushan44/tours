const Review = require("../models/review");
async function createReview(req, res) {
  try {
    const review = await Review.create(req.body);
    res.json({
      status: "success",
      data: review,
    });
  } catch (e) {
    res.json({
      status: "fail",
      message: e.message,
    });
  }
}
async function getReviews(req, res) {
  try {
    const reviews = await Review.find({tour:req.params.id}).populate("tour").populate("user");
    res.json({
      status: "succes",
      reviews,
    });
  } catch (e) {
    res.json({
      status: "succes",
      message: e.message,
    });
  }
}
module.exports = { createReview, getReviews };
